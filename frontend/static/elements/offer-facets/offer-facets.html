<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="offer-facets">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <p>
      <h4>City</h4>
      <elastic-client-aggregation-builder
        name="offerCityAgg"
        field="availableAtOrFrom.address.addressLocality"
        ejs-aggregation="{{offerCityAgg}}"
        type="terms">
      </elastic-client-aggregation-builder>

    <elastic-client-checkbox-list
      buckets="[[ecsResult.aggregations.offerCityAgg.offerCityAgg.buckets]]"
      filter-name="offerCityAgg"
      field="availableAtOrFrom.address.addressLocality"
      ejs-filter="{{offerCityFilter}}"
      combination-type="or">
    </elastic-client-checkbox-list>
    </p>

    <p><h4>Name</h4>
    <elastic-client-aggregation-builder
      name="offerNameAgg"
      field="itemOffered.name"
      ejs-aggregation="{{offerNameAgg}}"
      type="terms">
    </elastic-client-aggregation-builder>

    <elastic-client-checkbox-list
      buckets="[[ecsResult.aggregations.offerNameAgg.offerNameAgg.buckets]]"
      filter-name="offerNameAgg"
      field="itemOffered.name"
      ejs-filter="{{offerNameFilter}}"
      combination-type="or">
    </elastic-client-checkbox-list>
    </p>

    <p><h4>Age</h4>
    <elastic-client-aggregation-builder
      name="offerAgeAgg"
      filter-name="offerNameAgg"
      field="itemOffered.personAge"
      ejs-aggregation="{{offerAgeAgg}}"
      type="terms">
    </elastic-client-aggregation-builder>

    <elastic-client-checkbox-list
      buckets="[[ecsResult.aggregations.offerAgeAgg.offerAgeAgg.buckets]]"
      filter-name="offerAgeAgg"
      field="itemOffered.personAge"
      ejs-filter="{{offerAgeFilter}}"
      combination-type="or">
    </elastic-client-checkbox-list>
    </p>

    <p><h4>Eye Color</h4>
    <elastic-client-aggregation-builder
      name="offerEyeAgg"
      field="itemOffered.eyeColor"
      ejs-aggregation="{{offerEyeAgg}}"
      type="terms">
    </elastic-client-aggregation-builder>

    <elastic-client-checkbox-list
      buckets="[[ecsResult.aggregations.offerEyeAgg.offerEyeAgg.buckets]]"
      filter-name="offerEyeAgg"
      field="itemOffered.eyeColor"
      ejs-filter="{{offerEyeFilter}}"
      combination-type="or">
    </elastic-client-checkbox-list>
    </p>

    <p><h4>Hair Color</h4>
    <elastic-client-aggregation-builder
      name="offerHairAgg"
      field="itemOffered.hairColor"
      ejs-aggregation="{{offerHairAgg}}"
      type="terms">
    </elastic-client-aggregation-builder>

    <elastic-client-checkbox-list
      buckets="[[ecsResult.aggregations.offerHairAgg.offerHairAgg.buckets]]"
      filter-name="offerHairAgg"
      field="itemOffered.hairColor"
      ejs-filter="{{offerHairFilter}}"
      combination-type="or">
    </elastic-client-checkbox-list>
    </p>

    <p><h4>Weight</h4>
    <elastic-client-aggregation-builder
      name="offerWeightAgg"
      field="itemOffered[schema:weight]"
      ejs-aggregation="{{offerWeightAgg}}"
      type="terms">
    </elastic-client-aggregation-builder>

    <elastic-client-checkbox-list
      buckets="[[ecsResult.aggregations.offerWeightAgg.offerWeightAgg.buckets]]"
      filter-name="offerWeightAgg"
      field="itemOffered[schema:weight]"
      ejs-filter="{{offerWeightFilter}}"
      combination-type="or">
    </elastic-client-checkbox-list>
    </p>

    <p><h4>Height</h4>
    <elastic-client-aggregation-builder
      name="offerHeightAgg"
      field="itemOffered[schema:height]"
      ejs-aggregation="{{offerHeightAgg}}"
      type="terms">
    </elastic-client-aggregation-builder>

    <elastic-client-checkbox-list
      buckets="[[ecsResult.aggregations.offerHeightAgg.offerHeightAgg.buckets]]"
      filter-name="offerHeightAgg"
      field="itemOffered[schema:height]"
      ejs-filter="{{offerHeightFilter}}"
      combination-type="or">
    </elastic-client-checkbox-list>
    </p>
  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'offer-facets',
        properties: {
          results: {
            type: Object
          }
        }
      });
    })();
  </script>
</dom-module>


